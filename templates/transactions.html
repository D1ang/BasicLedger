{% extends 'base.html' %} {% block content %}

<!-- Button for the add transaction modal -->
<button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModal">Add Transaction</button>

<!-- Transactions table -->
<div class="container">
  <table style="width:100%">
    <tr>
      <th>Date</th>
      <th>Category</th>
      <th>Details</th>
      <th>Amount</th>
      <th>Actions</th>
    </tr>
    {% for transaction in transactions %}

    <tr>
      <td>{{transaction.date}}</td>
      <td>{{transaction.category_name}}</td>
      <td>{{transaction.details}}</td>
      <td>â‚¬ {{transaction.amount}}</td>
      <td>
        <a href="{{url_for('edit_transaction', transaction_id=transaction._id)}}">Edit</a>
        <a class="" href="{{url_for('delete_transaction', transaction_id=transaction._id)}}">Delete</a>
      </td>
    </tr>

    {% endfor %}
  </table>
</div>

<!-- Modal -->
<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
  aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <form action="{{url_for('insert_transaction')}}" method="POST">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Add Transaction</h5>
          <div class="form-check form-check-inline">
            <input class="form-check-input" type="radio" id="deb" name="transition" value="debit">
            <label class="form-check-label" for="deb">Debit</label>
          </div>
          <div class="form-check form-check-inline">
            <input class="form-check-input" type="radio" id="cred" name="transition" value="credit" checked>
            <label class="form-check-label" for="cred">Credit</label>
          </div>
        </div>
        <div class="modal-body">
          <div class="form-group">
            <label for="category">Transaction</label>
            <select class="form-control" id="category" name="category">
              <option value="" disabled selected>Choose category</option>
                {% for category in categories %}
              <option value="{{category.category_name}}">{{category.category_name}}</option>
              {% endfor %}
            </select>
          </div>
          <div class="form-group">
            <label for="icon_prefix">Details</label>
            <input type="text" class="form-control" id="details" name="details">
          </div>
          <div class="form-group">
            <label for="icon_prefix">Date</label>
            <input type="text" class="form-control" id="date" name="date">
          </div>
          <div class="form-group">
            <label for="icon_prefix">Amount</label>
            <input type="number" class="form-control" id="amount" name="amount">
          </div>
            <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
            <button type="submit" class="btn btn-success" name="action">Add</button>
        </div>
      </form>
    </div>
  </div>
</div>

{% endblock %}